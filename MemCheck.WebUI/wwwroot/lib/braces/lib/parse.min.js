/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/braces@3.0.3/lib/parse.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";const stringify=require("./stringify"),{MAX_LENGTH:MAX_LENGTH,CHAR_BACKSLASH:CHAR_BACKSLASH,CHAR_BACKTICK:CHAR_BACKTICK,CHAR_COMMA:CHAR_COMMA,CHAR_DOT:CHAR_DOT,CHAR_LEFT_PARENTHESES:CHAR_LEFT_PARENTHESES,CHAR_RIGHT_PARENTHESES:CHAR_RIGHT_PARENTHESES,CHAR_LEFT_CURLY_BRACE:CHAR_LEFT_CURLY_BRACE,CHAR_RIGHT_CURLY_BRACE:CHAR_RIGHT_CURLY_BRACE,CHAR_LEFT_SQUARE_BRACKET:CHAR_LEFT_SQUARE_BRACKET,CHAR_RIGHT_SQUARE_BRACKET:CHAR_RIGHT_SQUARE_BRACKET,CHAR_DOUBLE_QUOTE:CHAR_DOUBLE_QUOTE,CHAR_SINGLE_QUOTE:CHAR_SINGLE_QUOTE,CHAR_NO_BREAK_SPACE:CHAR_NO_BREAK_SPACE,CHAR_ZERO_WIDTH_NOBREAK_SPACE:CHAR_ZERO_WIDTH_NOBREAK_SPACE}=require("./constants"),parse=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");const A=t||{},_="number"==typeof A.maxLength?Math.min(MAX_LENGTH,A.maxLength):MAX_LENGTH;if(e.length>_)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${_})`);const R={type:"root",input:e,nodes:[]},n=[R];let C=R,E=R,s=0;const o=e.length;let H,p=0,l=0;const a=()=>e[p++],i=e=>{if("text"===e.type&&"dot"===E.type&&(E.type="text"),!E||"text"!==E.type||"text"!==e.type)return C.nodes.push(e),e.parent=C,e.prev=E,E=e,e;E.value+=e.value};for(i({type:"bos"});p<o;)if(C=n[n.length-1],H=a(),H!==CHAR_ZERO_WIDTH_NOBREAK_SPACE&&H!==CHAR_NO_BREAK_SPACE)if(H!==CHAR_BACKSLASH)if(H!==CHAR_RIGHT_SQUARE_BRACKET)if(H!==CHAR_LEFT_SQUARE_BRACKET)if(H!==CHAR_LEFT_PARENTHESES)if(H!==CHAR_RIGHT_PARENTHESES)if(H!==CHAR_DOUBLE_QUOTE&&H!==CHAR_SINGLE_QUOTE&&H!==CHAR_BACKTICK)if(H!==CHAR_LEFT_CURLY_BRACE)if(H!==CHAR_RIGHT_CURLY_BRACE)if(H===CHAR_COMMA&&l>0){if(C.ranges>0){C.ranges=0;const e=C.nodes.shift();C.nodes=[e,{type:"text",value:stringify(C)}]}i({type:"comma",value:H}),C.commas++}else if(H===CHAR_DOT&&l>0&&0===C.commas){const e=C.nodes;if(0===l||0===e.length){i({type:"text",value:H});continue}if("dot"===E.type){if(C.range=[],E.value+=H,E.type="range",3!==C.nodes.length&&5!==C.nodes.length){C.invalid=!0,C.ranges=0,E.type="text";continue}C.ranges++,C.args=[];continue}if("range"===E.type){e.pop();const t=e[e.length-1];t.value+=E.value+H,E=t,C.ranges--;continue}i({type:"dot",value:H})}else i({type:"text",value:H});else{if("brace"!==C.type){i({type:"text",value:H});continue}const e="close";C=n.pop(),C.close=!0,i({type:e,value:H}),l--,C=n[n.length-1]}else{l++;const e=E.value&&"$"===E.value.slice(-1)||!0===C.dollar;C=i({type:"brace",open:!0,close:!1,dollar:e,depth:l,commas:0,ranges:0,nodes:[]}),n.push(C),i({type:"open",value:H})}else{const e=H;let A;for(!0!==t.keepQuotes&&(H="");p<o&&(A=a());)if(A!==CHAR_BACKSLASH){if(A===e){!0===t.keepQuotes&&(H+=A);break}H+=A}else H+=A+a();i({type:"text",value:H})}else{if("paren"!==C.type){i({type:"text",value:H});continue}C=n.pop(),i({type:"text",value:H}),C=n[n.length-1]}else C=i({type:"paren",nodes:[]}),n.push(C),i({type:"text",value:H});else{let e;for(s++;p<o&&(e=a());)if(H+=e,e!==CHAR_LEFT_SQUARE_BRACKET)if(e!==CHAR_BACKSLASH){if(e===CHAR_RIGHT_SQUARE_BRACKET&&(s--,0===s))break}else H+=a();else s++;i({type:"text",value:H})}else i({type:"text",value:"\\"+H});else i({type:"text",value:(t.keepEscaping?H:"")+a()});do{if(C=n.pop(),"root"!==C.type){C.nodes.forEach((e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)}));const e=n[n.length-1],t=e.nodes.indexOf(C);e.nodes.splice(t,1,...C.nodes)}}while(n.length>0);return i({type:"eos"}),R};module.exports=parse;
//# sourceMappingURL=/sm/013c8b1f9adf55f8a8cd291726a18986ba817e09ba464c948b70f3073c7f255a.map